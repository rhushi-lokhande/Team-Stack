/// <reference path="./server.d.ts" />
'use strict';
var config = require('./config/environment');
module.exports = function (app) {
    // API
    app.use('/api/users', require('./api/user'));
    // Auth
    app.use('/auth', require('./auth'));
    app.route('/:url(api|app|bower_components|assets)/*')
        .get(function (req, res) {
        res.status(404).end();
    });
    app.route('/*')
        .get(function (req, res) {
        res.sendFile(app.get('appPath') + '/index.html', {
            root: config.root
        });
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxzQ0FBc0M7QUFDdEMsWUFBWSxDQUFDO0FBRWIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLHNCQUFzQixDQUFDLENBQUM7QUFFN0MsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFTLEdBQUc7SUFFekIsTUFBTTtJQUNOLEdBQUcsQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO0lBRTdDLE9BQU87SUFDUCxHQUFHLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztJQUVwQyxHQUFHLENBQUMsS0FBSyxDQUFDLDBDQUEwQyxDQUFDO1NBQ2hELEdBQUcsQ0FBQyxVQUFTLEdBQUcsRUFBRSxHQUFHO1FBQ2xCLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDMUIsQ0FBQyxDQUFDLENBQUM7SUFFUCxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQztTQUNWLEdBQUcsQ0FBQyxVQUFTLEdBQUcsRUFBRSxHQUFHO1FBQ2xCLEdBQUcsQ0FBQyxRQUFRLENBQ1IsR0FBRyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRyxhQUFhLEVBQUU7WUFDaEMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxJQUFJO1NBQ3BCLENBQUMsQ0FBQztJQUNYLENBQUMsQ0FBQyxDQUFDO0FBRVgsQ0FBQyxDQUFDIiwiZmlsZSI6InJvdXRlcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL3NlcnZlci5kLnRzXCIgLz5cbid1c2Ugc3RyaWN0JztcblxudmFyIGNvbmZpZyA9IHJlcXVpcmUoJy4vY29uZmlnL2Vudmlyb25tZW50Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYXBwKSB7XG5cbiAgICAvLyBBUElcbiAgICBhcHAudXNlKCcvYXBpL3VzZXJzJywgcmVxdWlyZSgnLi9hcGkvdXNlcicpKTtcblxuICAgIC8vIEF1dGhcbiAgICBhcHAudXNlKCcvYXV0aCcsIHJlcXVpcmUoJy4vYXV0aCcpKTtcblxuICAgIGFwcC5yb3V0ZSgnLzp1cmwoYXBpfGFwcHxib3dlcl9jb21wb25lbnRzfGFzc2V0cykvKicpXG4gICAgICAgIC5nZXQoZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5lbmQoKTtcbiAgICAgICAgfSk7XG5cbiAgICBhcHAucm91dGUoJy8qJylcbiAgICAgICAgLmdldChmdW5jdGlvbihyZXEsIHJlcykge1xuICAgICAgICAgICAgcmVzLnNlbmRGaWxlKFxuICAgICAgICAgICAgICAgIGFwcC5nZXQoJ2FwcFBhdGgnKSArICcvaW5kZXguaHRtbCcsIHtcbiAgICAgICAgICAgICAgICAgICAgcm9vdDogY29uZmlnLnJvb3RcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbn07XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
